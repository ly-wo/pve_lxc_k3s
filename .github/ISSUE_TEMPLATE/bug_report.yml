name: Bug Report
description: Report a bug or issue with the PVE LXC K3s Template
title: "[Bug]: "
labels: ["bug", "triage"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! Please fill out the information below to help us understand and reproduce the issue.

  - type: input
    id: template-version
    attributes:
      label: Template Version
      description: Which version of the template are you using?
      placeholder: "e.g., v1.0.0"
    validations:
      required: true

  - type: input
    id: pve-version
    attributes:
      label: Proxmox VE Version
      description: What version of Proxmox VE are you running?
      placeholder: "e.g., 8.0.4"
    validations:
      required: true

  - type: input
    id: k3s-version
    attributes:
      label: K3s Version
      description: What version of K3s is included in the template?
      placeholder: "e.g., v1.28.4+k3s1"
    validations:
      required: false

  - type: textarea
    id: bug-description
    attributes:
      label: Bug Description
      description: A clear and concise description of what the bug is.
      placeholder: "Describe the bug..."
    validations:
      required: true

  - type: textarea
    id: steps-to-reproduce
    attributes:
      label: Steps to Reproduce
      description: Steps to reproduce the behavior
      placeholder: |
        1. Download template version X
        2. Create LXC container with configuration Y
        3. Start the container
        4. See error
    validations:
      required: true

  - type: textarea
    id: expected-behavior
    attributes:
      label: Expected Behavior
      description: A clear and concise description of what you expected to happen.
      placeholder: "What should have happened?"
    validations:
      required: true

  - type: textarea
    id: actual-behavior
    attributes:
      label: Actual Behavior
      description: A clear and concise description of what actually happened.
      placeholder: "What actually happened?"
    validations:
      required: true

  - type: textarea
    id: container-config
    attributes:
      label: Container Configuration
      description: Please provide your LXC container configuration
      placeholder: |
        ```
        pct config 100
        ```
      render: shell
    validations:
      required: false

  - type: textarea
    id: logs
    attributes:
      label: Logs
      description: Please provide relevant logs (container logs, K3s logs, etc.)
      placeholder: |
        ```
        # Container logs
        pct exec 100 -- journalctl -u k3s

        # K3s logs
        pct exec 100 -- cat /var/log/k3s.log
        ```
      render: shell
    validations:
      required: false

  - type: textarea
    id: system-info
    attributes:
      label: System Information
      description: Additional system information that might be relevant
      placeholder: |
        - Host OS: 
        - Kernel version: 
        - Container memory: 
        - Container CPU cores: 
        - Network configuration: 
    validations:
      required: false

  - type: checkboxes
    id: troubleshooting
    attributes:
      label: Troubleshooting Steps
      description: Have you tried any of these troubleshooting steps?
      options:
        - label: Restarted the container
        - label: Checked container resource limits
        - label: Verified network connectivity
        - label: Checked Proxmox VE logs
        - label: Tried with a fresh container
        - label: Reviewed the documentation

  - type: textarea
    id: additional-context
    attributes:
      label: Additional Context
      description: Add any other context about the problem here.
      placeholder: "Any additional information that might help..."
    validations:
      required: false